!function(){"use strict";const e="is-empty",t="is-invalid";function s(s){const n=s.closest(".form-input"),c=s.closest(".form-mobile"),o=s.closest(".form-file"),i=s.classList.contains("g-recaptcha-response"),r=n||c||o;!s.required&&!i||s.value?(s.classList.remove(e),r&&r.classList.remove(e)):(s.classList.add(e),r&&r.classList.add(e)),o?!function(e){const t=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf"],s=10485760;if(e){if(!t.includes(e.type))return!1;if(e.size>s)return!1}return!0}(s.files[0])?(s.classList.add(t),r&&r.classList.add(t)):(s.classList.remove(t),r&&r.classList.remove(t)):c||(s.checkValidity()?(s.classList.remove(t),r&&r.classList.remove(t)):(s.classList.add(t),r&&r.classList.add(t)))}const n=".g-recaptcha .g-recaptcha-response",c="#subscriptionName",o="#subscriptionEmail",i="#subscriptionMarketingPromotional",r="#subscription_csrf_token",a='.btn[type="submit"]';let l="";const u=[...document.querySelectorAll(".newsletter-form")],d=t=>{const u=t.querySelector(".newsletter-form-body"),d=t.querySelectorAll(".newsletter-form .close-btn"),f=document.body;if(u){function p(){(async function(){const e={type:"GET",contentType:"text/html",headers:{"Access-Control-Allow-Origin":"*"},crossDomain:!0},t=await fetch(l,e);return await t.text()})().then((l=>{l&&(u.innerHTML=l,setTimeout((()=>{const l=u.querySelector("form");if(l){l.querySelectorAll("script").forEach((e=>{const t=document.createElement("script");let s=e.src;t.src=s,t.type=e.type||"text/javascript",document.body.appendChild(t)})),function(e){e.querySelectorAll("input").forEach((e=>function(e){e.addEventListener("change",(function(){s(e)}))}(e)))}(l),function(t,l){t.addEventListener("submit",(function(u){return u.preventDefault(),function(e){const t=e.querySelector(a);t&&t.classList.add("disabled")}(t),function(e){e.querySelectorAll("input").forEach((e=>s(e)))}(t),function(t){const s=t.querySelector(".g-recaptcha-response");if(s){const t=s.closest(".g-recaptcha"),n=s.closest(".form-input");s.value?(n&&n.classList.remove(e),t&&t.classList.remove(e)):(n&&n.classList.add(e),t&&t.classList.add(e))}}(t),t.checkValidity()&&function(e){const t=e.querySelector(n),s=t?t.value:"";return Boolean(s)}(t)?(!function(e){const t=e.querySelector('.btn[type="submit"]');if(t){t.parentElement.classList.add("loading")}}(t),async function(e){const t=e.action,s=e.querySelector(c).value,a=e.querySelector(o).value,l=e.querySelector(n).value,u=e.querySelector(r).value;let d="n";e.querySelector(i).checked&&(d=e.querySelector(i).value);const m={subscriptionName:s,subscriptionEmail:a,subscriptionMarketingPromotional:d,subscription_csrf_token:u,"g-recaptcha-response":l},f=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(m)});return await f.json()}(t).then((e=>{"success"==e.message?function(e){const t=e.querySelector(".newsletter-form__innerContent"),s=e.querySelector(".newsletter-form__success_innerContent");t.classList.add("d-none"),s.classList.remove("d-none");const n=new CustomEvent("GAFormSubmitSuccess",{detail:{name:"Subscription"}});window.dispatchEvent(n)}(l):m(t)}))):(!function(e){const t=e.querySelector('.btn[type="submit"]');if(t){t.parentElement.classList.remove("loading")}}(t),m(t)),!1}))}(l,t)}})))})),f.classList.add("newsletter-form-show"),t.classList.add("d-inline-flex")}l=t.dataset.apiurlGet,window.showSubscribeForm=function(){p()}}d.forEach((e=>{e.addEventListener("click",(()=>{f.classList.remove("newsletter-form-show"),t.classList.remove("d-inline-flex")}))}))};function m(e){const t=e.querySelector('.btn[type="submit"');t&&t.classList.remove("disabled")}u.forEach((e=>{d(e)}))}();
